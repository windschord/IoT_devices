# PiKVM Switcher

PiKVM Switcherは、Raspberry Pi Pico（または類似のマイクロコントローラ）を使用して、PiKVMシステムとハードウェアKVMスイッチの間のインターフェースとして機能するプロジェクトです。

## 概要

このプロジェクトは、PiKVMを通じて複数のコンピュータをリモートで切り替える機能を提供します。74HC4052マルチプレクサを使用して信号ルーティングを行い、PiKVMからのコマンドに基づいてKVMスイッチを制御します。

## ハードウェア要件

- Raspberry Pi Pico（または類似のマイクロコントローラ）
- 74HC4052マルチプレクサ
- KVMスイッチ
- PiKVMシステム
- 必要なジャンパーワイヤーと接続部品

## ピン配置

### 入出力ピン
- **LED_PIN**: 動作確認用LED（ピン25）
- **MULTIPLEXER_CNT**: マルチプレクサ制御（ピン14、15）
- **KVM_SW**: KVMスイッチへの出力（ピン10-13）
- **KVM_STATUS**: KVMスイッチからの入力（ピン6-9）
- **SELECTED_PC**: PiKVM GPIOへの出力（ピン16-19）
- **SELECT_SW**: PiKVM GPIOからの入力（ピン20-22、26）

## 機能

- 最大4台のコンピュータ間での切り替え
- PiKVM経由でのリモート制御
- ハートビートLED表示による動作確認
- 現在選択されているコンピュータの状態報告

## 使用方法

1. ハードウェアを接続図に従って配線します
2. `main.py`をRaspberry Pi Picoにアップロードします
3. PiKVMのGPIOインターフェースを通じて接続されたコンピュータを切り替えます

## 動作原理

プログラムは以下の主要な機能を実行します：
1. PiKVMからの選択信号を読み取る
2. 選択されたコンピュータに合わせてKVMスイッチを更新
3. マルチプレクサを適切に設定して信号をルーティング
4. 現在の選択状態をPiKVMに報告
5. システムの稼働状態を示すLEDの点滅

## トラブルシューティング

- LEDが点滅しない場合、システムが正しく動作していない可能性があります
- KVMの切り替えが機能しない場合、配線を確認してください
- ログメッセージは、USBシリアル接続を通じて確認できます

## ライセンス

このプロジェクトは[ライセンス情報]の下で公開されています。

## 貢献

バグ報告や機能強化の提案は、GitHubのIssueまたはプルリクエストを通じて歓迎します。